{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///src/components/power/Roles.vue","webpack:///./src/components/power/Roles-mixins.js","webpack:///./src/components/power/Roles.vue?04f3","webpack:///./src/components/power/Roles.vue","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///src/components/power/Rights.vue","webpack:///./src/components/power/Rights-mixins.js","webpack:///./src/components/power/Rights.vue?d287","webpack:///./src/components/power/Rights.vue","webpack:///./node_modules/core-js/library/modules/es6.array.from.js"],"names":["__webpack_require__","module","exports","Array","from","__esModule","obj","_from","_from2","default","arr","isArray","i","arr2","length","Roles","mixins","data","rolesList","addDialogVisible","addForm","roleName","roleDesc","addFormRules","required","message","trigger","editDialogVisible","editForm","editFormRules","setRightDialogVisible","rightTree","treeProp","label","children","defaultCheckedKeys","roleId","created","this","getRolesList","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","res","wrap","_context","prev","next","$http","get","sent","meta","status","abrupt","$message","error","stop","addDialogClosed","$refs","addFormRef","resetFields","addRoles","_ref2","_this2","validate","_callee2","valid","_ref3","_context2","post","success","_x","apply","arguments","showEditDialog","id","_this3","_callee3","_ref4","_context3","editDialogClosed","editFormRef","saveRolesInfo","_ref5","_this4","_callee4","_ref6","_context4","put","_x2","removeRoles","_this5","_callee5","_ref7","_context5","$confirm","confirmButtonText","cancelButtonText","type","catch","err","delete","removeRight","role","rightId","_this6","_callee6","_ref8","_context6","showSetRightDialog","_this7","_callee7","_ref9","keys","_context7","getLeafId","node","keyArr","_this8","push","forEach","item","saveRights","_this9","_callee8","k1","k2","idstr","_ref10","_context8","tree","getCheckedKeys","getHalfCheckedKeys","concat","toConsumableArray_default","join","rids","power_Roles","render","_vm","_h","$createElement","_c","_self","attrs","separator-class","to","path","_v","on","click","$event","border","stripe","scopedSlots","_u","key","fn","scope","_l","row","item1","i1","style","border-bottom","border-top","span","closable","close","_s","authName","staticClass","item2","i2","item3","prop","width","icon","size","title","visible","update:visible","ref","model","rules","label-width","value","callback","$$v","$set","expression","slot","props","show-checkbox","node-key","default-expand-all","default-checked-keys","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","$defineProperty","createDesc","object","index","f","Rights","rightsList","getRightsList","power_Rights","level","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","mapfn","undefined","mapping","iterFn","done"],"mappings":"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","file":"static/js/3.8042eb75e3da7fbfe47f.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 3","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 3","<template>\r\n  <div>\r\n    <!-- 头部面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加角色</el-button>\r\n\r\n      <!-- 所有的角色列表 -->\r\n      <el-table :data=\"rolesList\" border stripe>\r\n        <!-- type=\"expand\" 会被渲染为 展开行的 列 -->\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 循环 scope.row.children 数组，把角色下，所有的一级权限， -->\r\n            <!-- 循环渲染为每个 el-row -->\r\n            <el-row v-for=\"(item1, i1) in scope.row.children\" :key=\"item1.id\" :style=\"{ 'border-bottom': '1px solid #eee', 'border-top': i1 === 0 ? '1px solid #eee' : '' }\">\r\n              <el-col :span=\"5\">\r\n                <el-tag closable @close=\"removeRight(scope.row, item1.id)\">{{item1.authName}}</el-tag>\r\n                <i class=\"el-icon-caret-right\"></i>\r\n              </el-col>\r\n              <el-col :span=\"19\">\r\n                <!-- 循环 item1.children 数组，把一级权限下的，所有二级权限， -->\r\n                <!-- 渲染为 每个 el-row -->\r\n                <el-row v-for=\"(item2, i2) in item1.children\" :key=\"item2.id\" :style=\"{'border-top': i2 === 0 ? '' : '1px solid #eee'}\">\r\n                  <el-col :span=\"6\">\r\n                    <el-tag type=\"success\" closable @close=\"removeRight(scope.row, item2.id)\">{{item2.authName}}</el-tag>\r\n                    <i class=\"el-icon-caret-right\"></i>\r\n                  </el-col>\r\n                  <el-col :span=\"18\">\r\n                    <!-- 循环 item2.children 数组，把所有的三级权限，渲染出来 -->\r\n                    <el-tag v-for=\"item3 in item2.children\" :key=\"item3.id\" type=\"warning\" closable @close=\"removeRight(scope.row, item3.id)\">{{item3.authName}}</el-tag>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- type=\"index\" 会被渲染为 索引列 -->\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n        <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"300px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\">编辑</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeRoles(scope.row.id)\">删除</el-button>\r\n            <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"showSetRightDialog(scope.row)\">分配权限</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 添加角色的对话框 -->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"addDialogVisible\" width=\"50%\" @close=\"addDialogClosed\">\r\n      <!-- 添加的表单 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"addForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"addForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addRoles\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑角色的对话框 -->\r\n    <el-dialog title=\"修改角色\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n      <!-- 编辑角色信息的表单 -->\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input v-model=\"editForm.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n          <el-input v-model=\"editForm.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRolesInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配权限的对话框 -->\r\n    <el-dialog title=\"分配权限\" :visible.sync=\"setRightDialogVisible\" width=\"50%\">\r\n      <!-- 渲染权限的树形结构 -->\r\n      <el-tree ref=\"tree\" :data=\"rightTree\" :props=\"treeProp\" show-checkbox node-key=\"id\" default-expand-all :default-checked-keys=\"defaultCheckedKeys\"></el-tree>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRights\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mix from './Roles-mixins.js'\r\nexport default {\r\n  mixins: [mix]\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag {\r\n  margin: 10px 5px;\r\n}\r\n\r\n.el-row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/power/Roles.vue","export default {\r\n  data() {\r\n    return {\r\n      // 所有角色列表\r\n      rolesList: [],\r\n      // 控制 添加角色对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      // 添加表单的数据对象\r\n      addForm: {\r\n        roleName: '', // 角色名称\r\n        roleDesc: '' // 角色描述\r\n      },\r\n      // 添加表单的验证规则对象\r\n      addFormRules: {\r\n        roleName: [{ required: true, message: '请输入角色名称', trigger: 'blur' }],\r\n        roleDesc: [{ required: true, message: '请输入角色描述', trigger: 'blur' }]\r\n      },\r\n      // 控制 编辑对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      // 编辑角色的数据对象\r\n      editForm: {\r\n        roleName: '',\r\n        roleDesc: ''\r\n      },\r\n      // 编辑表单的验证规则对象\r\n      editFormRules: {\r\n        roleName: [{ required: true, message: '请填写角色名称', trigger: 'blur' }],\r\n        roleDesc: [{ required: true, message: '请填写角色描述', trigger: 'blur' }]\r\n      },\r\n      // 控制 分配权限对话框的显示与隐藏\r\n      setRightDialogVisible: false,\r\n      // 权限树形结构对应的数据\r\n      rightTree: [],\r\n      // 树形结构中，每个节点和数据之间的对应关系\r\n      treeProp: {\r\n        // 指定要展示的节点内容\r\n        label: 'authName',\r\n        // 指定嵌套关系\r\n        children: 'children'\r\n      },\r\n      // 默认情况下，角色已经拥有的三级权限Id数组\r\n      defaultCheckedKeys: [],\r\n      // 即将要分配权限的角色id\r\n      roleId: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getRolesList()\r\n  },\r\n  methods: {\r\n    // 获取所有角色列表\r\n    async getRolesList() {\r\n      const { data: res } = await this.$http.get('roles')\r\n      if (res.meta.status !== 200) return this.$message.error('获取角色列表失败！')\r\n      this.rolesList = res.data\r\n      // console.log(res)\r\n    },\r\n    // 添加角色对话框关闭，触发这个函数\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 添加新角色\r\n    addRoles() {\r\n      // 验证表单\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        const { data: res } = await this.$http.post('roles', this.addForm)\r\n        if (res.meta.status !== 201) return this.$message.error('添加角色失败！')\r\n        this.$message.success('添加角色成功！')\r\n        this.getRolesList()\r\n        this.addDialogVisible = false\r\n      })\r\n    },\r\n    // 点击按钮，展示编辑角色的对话框\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get('roles/' + id)\r\n      if (res.meta.status !== 200) return this.$message.error('查询角色信息失败！')\r\n      this.editForm = res.data\r\n      this.editDialogVisible = true\r\n    },\r\n    // 编辑对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 点击按钮，保存角色信息\r\n    saveRolesInfo() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        const { data: res } = await this.$http.put('roles/' + this.editForm.roleId, this.editForm)\r\n        if (res.meta.status !== 200) return this.$message.error('编辑角色信息失败！')\r\n        this.$message.success('编辑角色信息成功！')\r\n        this.getRolesList()\r\n        this.editDialogVisible = false\r\n      })\r\n    },\r\n    async removeRoles(id) {\r\n      // 提示用户是否要删除\r\n      const confirmResult = await this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 取消了删除\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      }\r\n\r\n      // 走删除的业务逻辑\r\n      const { data: res } = await this.$http.delete('roles/' + id)\r\n      if (res.meta.status !== 200) return this.$message.error('删除角色失败！')\r\n      this.$message.success('删除角色成功！')\r\n      this.getRolesList()\r\n    },\r\n    // 根据 权限Id，删除指定角色下指定的权限\r\n    async removeRight(role, rightId) {\r\n      // 询问用户是否要删除权限\r\n      const confirmResult = await this.$confirm('此操作将永久删除该权限, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n\r\n      // 用户不想删除\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      }\r\n\r\n      // 删除权限\r\n      const { data: res } = await this.$http.delete(`roles/${role.id}/rights/${rightId}`)\r\n      if (res.meta.status !== 200) return this.$message.error('删除权限失败！')\r\n      // console.log(res)\r\n      // 把服务器返回的最新的权限数组，赋值给 当前角色的 children 属性\r\n      role.children = res.data\r\n      // this.getRolesList()\r\n    },\r\n    // 点击按钮，展示分配权限的对话框\r\n    async showSetRightDialog(role) {\r\n      // 预先，把角色Id存储到data上的 roleId 属性中\r\n      this.roleId = role.id\r\n      const { data: res } = await this.$http.get('rights/tree')\r\n      if (res.meta.status !== 200) return this.$message.error('获取所有权限失败！')\r\n      this.rightTree = res.data\r\n      // 调用递归，获取指定角色下，所有三级权限的Id\r\n      const keys = []\r\n      this.getLeafId(role, keys)\r\n      this.defaultCheckedKeys = keys\r\n      this.setRightDialogVisible = true\r\n    },\r\n    // 递归获取角色下所有三级权限Id\r\n    getLeafId(node, keyArr) {\r\n      if (!node.children) {\r\n        return keyArr.push(node.id)\r\n      }\r\n      node.children.forEach(item => this.getLeafId(item, keyArr))\r\n    },\r\n    // 点击按钮，分配权限\r\n    async saveRights() {\r\n      // 获取全选的key数组\r\n      const k1 = this.$refs.tree.getCheckedKeys()\r\n      // 获取半选的key数组\r\n      const k2 = this.$refs.tree.getHalfCheckedKeys()\r\n      // 拼接出所有被勾选的权限的Id\r\n      const idstr = [...k1, ...k2].join(',')\r\n\r\n      const { data: res } = await this.$http.post(`roles/${this.roleId}/rights`, { rids: idstr })\r\n      if (res.meta.status !== 200) return this.$message.error('分配权限失败！')\r\n      this.$message.success('分配权限成功！')\r\n      // 重新获取 table 数据\r\n      this.getRolesList()\r\n      this.setRightDialogVisible = false\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/power/Roles-mixins.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_vm._v(\" \"),_c('el-card',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加角色\")]),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.rolesList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,style:({ 'border-bottom': '1px solid #eee', 'border-top': i1 === 0 ? '1px solid #eee' : '' })},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){_vm.removeRight(scope.row, item1.id)}}},[_vm._v(_vm._s(item1.authName))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,style:({'border-top': i2 === 0 ? '' : '1px solid #eee'})},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){_vm.removeRight(scope.row, item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3){return _c('el-tag',{key:item3.id,attrs:{\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){_vm.removeRight(scope.row, item3.id)}}},[_vm._v(_vm._s(item3.authName))])}))],1)}))],1)})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showEditDialog(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.removeRoles(scope.row.id)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.addForm.roleName),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleName\", $$v)},expression:\"addForm.roleName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.addForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleDesc\", $$v)},expression:\"addForm.roleDesc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoles}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改角色\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.editForm.roleName),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleName\", $$v)},expression:\"editForm.roleName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.editForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleDesc\", $$v)},expression:\"editForm.roleDesc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRolesInfo}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisible=$event}}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.rightTree,\"props\":_vm.treeProp,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defaultCheckedKeys}}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRights}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cc867eb2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/power/Roles.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cc867eb2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Roles.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Roles.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Roles.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cc867eb2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Roles.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cc867eb2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/power/Roles.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 3","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 3","<template>\r\n  <div>\r\n    <!-- 头部面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card>\r\n      <el-table :data=\"rightsList\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"权限名称\" prop=\"authName\"></el-table-column>\r\n        <el-table-column label=\"路径\" prop=\"path\"></el-table-column>\r\n        <el-table-column label=\"权限等级\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.level == 0\">一级</el-tag>\r\n            <el-tag type=\"success\" v-else-if=\"scope.row.level == 1\">二级</el-tag>\r\n            <el-tag type=\"warning\" v-else>三级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mix from './Rights-mixins.js'\r\nexport default {\r\n  mixins: [mix]\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/power/Rights.vue","export default {\r\n  data() {\r\n    return {\r\n      // 权限列表\r\n      rightsList: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getRightsList()\r\n  },\r\n  methods: {\r\n    // 获取所有权限列表\r\n    async getRightsList() {\r\n      const { data: res } = await this.$http.get('rights/list')\r\n      if (res.meta.status !== 200) return this.$message.error('获取权限列表失败！')\r\n      this.rightsList = res.data\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/power/Rights-mixins.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")])],1),_vm._v(\" \"),_c('el-card',[_c('el-table',{attrs:{\"data\":_vm.rightsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"prop\":\"authName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"权限等级\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level == 0)?_c('el-tag',[_vm._v(\"一级\")]):(scope.row.level == 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三级\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-219041f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/power/Rights.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rights.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rights.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-219041f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Rights.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/power/Rights.vue\n// module id = null\n// module chunks = ","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 3"],"sourceRoot":""}